server {
    listen 80 default_server;
    server_name _;

    root /shared;
    index index.html;

    autoindex on;
    autoindex_exact_size on;
    autoindex_localtime on;

    # Enable support for partial downloads (resume support)
    add_header Accept-Ranges bytes;

    # Disable buffering for faster data send
    sendfile on;
    tcp_nopush on;
    tcp_nodelay on;

    # Increase buffer and timeout limits
    client_max_body_size 0;
    client_body_timeout 60s;
    keepalive_timeout 65;
    send_timeout 60s;

    # Enable larger file reads
    aio threads;
    output_buffers 1 512k;

    # Gzip off for pure file transfer speed (gzip slows down binary file download)
    gzip off;

    location / {
        try_files $uri $uri/ =404;
        add_header Cache-Control no-cache;
    }
}
